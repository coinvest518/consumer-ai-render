<!DOCTYPE html>
<html>
<head>
    <title>Test Automation Buttons</title>
</head>
<body>
    <h2>ğŸ§ª Test Your Automation Buttons</h2>
    
    <div style="margin: 20px 0;">
        <h3>ğŸ“¬ Mail Tracking Test</h3>
        <button onclick="testMailDelivered()" style="
            background: #22c55e; 
            color: white; 
            padding: 10px 20px; 
            border: none; 
            border-radius: 6px;
            cursor: pointer;
        ">
            ğŸ“¬ Mark Test Mail as Delivered
        </button>
    </div>
    
    <div style="margin: 20px 0;">
        <h3>ğŸ¤– Auto Follow-up Test</h3>
        <button onclick="testAutoFollowup()" style="
            background: #3b82f6; 
            color: white; 
            padding: 10px 20px; 
            border: none; 
            border-radius: 6px;
            cursor: pointer;
        ">
            ğŸ¤– Test Auto Follow-up
        </button>
    </div>

    <script>
        async function testMailDelivered() {
            try {
                const response = await fetch('/api/user-actions/update-mail-status', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        userId: 'test-user-123',
                        mailId: 'test-mail-456',
                        status: 'delivered',
                        deliveryDate: new Date().toISOString()
                    })
                });
                
                const result = await response.json();
                if (result.success) {
                    alert('âœ… Test successful! Check your email for confirmation.');
                } else {
                    alert('âŒ Test failed: ' + result.error);
                }
            } catch (error) {
                alert('âŒ Error: ' + error.message);
            }
        }
        
        async function testAutoFollowup() {
            try {
                const response = await fetch('/api/user-actions/auto-followup', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        userId: 'test-user-123',
                        disputeId: 'test-dispute-789'
                    })
                });
                
                const result = await response.json();
                if (result.success) {
                    alert('âœ… Follow-up test successful!');
                } else {
                    alert('âŒ Test failed: ' + result.error);
                }
            } catch (error) {
                alert('âŒ Error: ' + error.message);
            }
        }
    </script>
</body>
</html>