{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Debt Letter Extraction",
  "type": "object",
  "required": ["creditor_name", "date_received", "balance_claimed", "validation_notice_present"],
  "properties": {
    "creditor_name": {"type": "string"},
    "date_received": {"type": "string", "format": "date"},
    "account_id_masked": {"type": "string"},
    "balance_claimed": {"type": "string"},
    "validation_notice_present": {"type": "boolean"},
    "validation_notice_text": {"type": "string"},
    "evidence": {
      "type": "array",
      "items": {"type": "object", "properties": {"quote":{"type":"string"}, "page": {"type":"number"}}, "required": ["quote"]}
    },
    "recommended_actions": {"type": "array", "items": {"type":"string"}},
    "severity": {"type": "string", "enum": ["low", "medium", "high"]}
  }
}